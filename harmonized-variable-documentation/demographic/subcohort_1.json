{
  "name": "subcohort_1",
  "phenotype_concept": "subcohort",
  "concept_variant": 1,
  "description": "A distinct subgroup within a study, generally indicating subjects who share similar characteristics due to study design. Subjects may belong to only one subcohort.",
  "version": 2,
  "dcc_harmonization_id": 158,
  "data_type": "encoded",
  "measurement_units": null,
  "has_age_variable": false,
  "date_harmonized": "2019-10-29 10:25:04",
  "dcc_harmonization_comments": "The concept of \"cohort\" or \"subcohort\" varies among studies and its meaning is highly dependent on study design. This is intended to be a general-purpose variable, and analysts should consult study documentation before using this variable in analysis.\n\nIf available, we recoded component study variables indicating subcohort membership. In instances where there was no variable indicating subcohort membership, we assigned the corresponding harmonized subcohort codes to the set of subject IDs included in subcohort-specific datasets. All consented subjects in studies with no subcohort structure were assigned a code of the form \"`TOPMed_abbreviation_NoSubcohortStructure`\" (e.g. \"`JHS_NoSubcohortStructure`\").\n",
  "encoded_values": [
    {
      "code": "Amish_HAPI",
      "value": "Amish Heredity and Phenotype Intervention Heart Study"
    },
    {
      "code": "Amish_Longevity",
      "value": "Amish Longevity Study"
    },
    {
      "code": "Amish_Wellness",
      "value": "Amish Family Wellness Study"
    },
    {
      "code": "ARIC_NoSubcohortStructure",
      "value": "ARIC: No Subcohort Structure"
    },
    {
      "code": "BAGS_NoSubcohortStructure",
      "value": "BAGS: No Subcohort Structure"
    },
    {
      "code": "CARDIA_NoSubcohortStructure",
      "value": "CARDIA: No Subcohort Structure"
    },
    {
      "code": "CCAF_NoSubcohortStructure",
      "value": "CCAF: No Subcohort Structure"
    },
    {
      "code": "CFS_NoSubcohortStructure",
      "value": "CFS: No Subcohort Structure"
    },
    {
      "code": "CHS_AfricanAmerican",
      "value": "CHS Additional African-American Cohort"
    },
    {
      "code": "CHS_Original",
      "value": "CHS Original Cohort"
    },
    {
      "code": "COPDGene_NoSubcohortStructure",
      "value": "COPDGene: No Subcohort Structure"
    },
    {
      "code": "CRA_NoSubcohortStructure",
      "value": "CRA: No Subcohort Structure"
    },
    {
      "code": "DHS_NoSubcohortStructure",
      "value": "DHS: No Subcohort Structure"
    },
    {
      "code": "FHS_Gen3",
      "value": "FHS Third Generation Cohort"
    },
    {
      "code": "FHS_NewOffspringSpouse",
      "value": "FHS New Offspring Spouse Cohort"
    },
    {
      "code": "FHS_Offspring",
      "value": "FHS Offspring Cohort"
    },
    {
      "code": "FHS_Omni1",
      "value": "FHS Omni Cohort 1"
    },
    {
      "code": "FHS_Omni2",
      "value": "FHS Omni Cohort 2"
    },
    {
      "code": "FHS_Original",
      "value": "FHS Original Cohort"
    },
    {
      "code": "GALAII_NoSubcohortStructure",
      "value": "GALAII: No Subcohort Structure"
    },
    {
      "code": "GENOA_AfricanAmerican",
      "value": "GENOA African-American Cohort"
    },
    {
      "code": "GENOA_EuropeanAmerican",
      "value": "GENOA European-American Cohort"
    },
    {
      "code": "GeneSTAR_CoparentOffspring",
      "value": "GeneSTAR Co-parent and Offspring Cohort"
    },
    {
      "code": "GeneSTAR_Sibling",
      "value": "GeneSTAR Sibling Cohort"
    },
    {
      "code": "GOLDN_NoSubcohortStructure",
      "value": "GOLDN: No Subcohort Structure"
    },
    {
      "code": "HCHS_SOL_NoSubcohortStructure",
      "value": "HCHS/SOL: No Subcohort Structure"
    },
    {
      "code": "HVH_NoSubcohortStructure",
      "value": "HVH: No Subcohort Structure"
    },
    {
      "code": "JHS_NoSubcohortStructure",
      "value": "JHS: No Subcohort Structure"
    },
    {
      "code": "Mayo_VTE_GENEVA",
      "value": "Mayo VTE GENEVA"
    },
    {
      "code": "Mayo_VTE_Olmsted",
      "value": "Mayo VTE Olmsted County"
    },
    {
      "code": "MESA_AirNR",
      "value": "MESA Air New Recruit Cohort"
    },
    {
      "code": "MESA_Classic",
      "value": "MESA Classic Cohort"
    },
    {
      "code": "MESA_Family",
      "value": "MESA Family Cohort"
    },
    {
      "code": "MGH_AF_NoSubcohortStructure",
      "value": "MGH AF: No Subcohort Structure"
    },
    {
      "code": "Partners_NoSubcohortStructure",
      "value": "Partners: No Subcohort Structure"
    },
    {
      "code": "SAGE_NoSubcohortStructure",
      "value": "SAGE: No Subcohort Structure"
    },
    {
      "code": "SAS_NoSubcohortStructure",
      "value": "SAS: No Subcohort Structure"
    },
    {
      "code": "VAFAR_NoSubcohortStructure",
      "value": "VAFAR: No Subcohort Structure"
    },
    {
      "code": "VU_AF_NoSubcohortStructure",
      "value": "VU AF: No Subcohort Structure"
    },
    {
      "code": "WGHS_NoSubcohortStructure",
      "value": "WGHS: No Subcohort Structure"
    },
    {
      "code": "WHI_ClinicalTrial",
      "value": "WHI Clinical Trial"
    },
    {
      "code": "WHI_ObservationalStudy",
      "value": "WHI Observational Study"
    }
  ],
  "controlled_vocabulary": [
    {
      "source": "UMLS",
      "version": "2018AB",
      "id": "C0599755"
    }
  ],
  "harmonization_units": [
    {
      "name": "Amish",
      "component_study_variables": ["phs000956.v3.pht005002.v1.phv00252974.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data[[\"pht005002\"]]\n  # Specify subcohort codes.\n  cht <- c(\"HAPI\", \"Longevity\", \"Wellness\")\n  # Convert variable to integer.\n  dat$baseline_study <- as.integer(dat$baseline_study)\n  # Create new variable with new codes.\n  dat$subcohort <- paste0(\"Amish_\", cht[dat$baseline_study])\n  # Select only ID and new subcohort variable.\n  dat <- select(dat, topmed_subject_id, subcohort)\n  return(dat)\n}\n"
    },
    {
      "name": "ARIC",
      "component_study_variables": ["phs000280.v5.pht001440.v5.phv00098580.v4"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht001440 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"ARIC_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "BAGS",
      "component_study_variables": ["phs001143.v2.pht005902.v1.phv00273200.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  dataset <- phen_list$source_data$pht005902 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"BAGS_NoSubcohortStructure\")\n\n  return(dataset)\n}\n"
    },
    {
      "name": "CARDIA",
      "component_study_variables": ["phs000285.v3.pht001554.v3.phv00112395.v2"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht001554 %>%\n    # Filter out unconsented individuals.\n    filter(!(Consent %in% \"0\") & !is.na(Consent)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"CARDIA_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "CCAF",
      "component_study_variables": ["phs001189.v2.pht005977.v2.phv00273537.v2"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  # Get dataset.\n  dataset <- phen_list$source_data$pht005977\n\n  # Filter for consented subjects.\n  dataset <- filter(dataset, CONSENT == '1')\n\n  # Create subcohort variable.\n  dataset$subcohort <- 'CCAF_NoSubcohortStructure'\n\n  # Select variables to return.\n  dataset <- select(dataset, topmed_subject_id, subcohort)\n\n  return(dataset)\n}\n"
    },
    {
      "name": "CFS",
      "component_study_variables": ["phs000284.v2.pht001899.v2.phv00122002.v2", "phs000284.v2.pht001902.v1.phv00122012.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht001899 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"CFS_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "CHS",
      "component_study_variables": ["phs000287.v6.pht001452.v1.phv00100290.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  # Rename subcohort variable.\n  harmonized <- dplyr::rename(phen_list$source_data$pht001452, subcohort = PERSTAT)\n  # Get index of Original cohort.\n  ind_old <- harmonized$subcohort == \"1\"\n  # Specify new key.\n  harmonized[ind_old, \"subcohort\"] <- \"CHS_Original\"\n  # Get index of African-American cohort.\n  ind_new <- harmonized$subcohort == \"2\"\n  # Specify new key.\n  harmonized[ind_new, \"subcohort\"] <- \"CHS_AfricanAmerican\"\n  return(harmonized)\n}\n"
    },
    {
      "name": "COPDGene",
      "component_study_variables": ["phs000179.v5.pht002237.v3.phv00159560.v3"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht002237 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"COPDGene_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "CRA",
      "component_study_variables": ["phs000988.v2.pht005245.v2.phv00258637.v2"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht005245 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"CRA_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "DHS",
      "component_study_variables": ["phs001412.v1.pht006743.v1.phv00310005.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  # Dataset\n  dataset <- phen_list$source_data$pht006743 %>%\n  #Removing consent group 0\n             filter(!(CONSENT == 0))\n  #Assigning cohort structure\n  dataset$subcohort <- \"DHS_NoSubcohortStructure\"\n  #Selecting final variables\n  dataset <- dataset %>%\n             select(topmed_subject_id, subcohort) %>%\n             return()\n}\n"
    },
    {
      "name": "FHS",
      "component_study_variables": ["phs000007.v30.pht003099.v5.phv00177928.v5"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n  dat <- phen_list$source_data[[\"pht003099\"]]\n  # Create empty subcohort variable.\n  dat$subcohort <- NA\n  # Map codes to new subcohort variable.\n  dat$subcohort[dat$idtype == \"0\"] <- \"FHS_Original\"\n  dat$subcohort[dat$idtype == \"1\"] <- \"FHS_Offspring\"\n  dat$subcohort[dat$idtype == \"2\"] <- \"FHS_NewOffspringSpouse\"\n  dat$subcohort[dat$idtype == \"3\"] <- \"FHS_Gen3\"\n  dat$subcohort[dat$idtype == \"7\"] <- \"FHS_Omni1\"\n  dat$subcohort[dat$idtype == \"72\"] <- \"FHS_Omni2\"\n  # Select only ID and new subcohort variable.\n  dat <- select(dat, topmed_subject_id, subcohort)\n  return(dat)\n}\n"
    },
    {
      "name": "GALAII",
      "component_study_variables": ["phs001180.v1.pht006988.v1.phv00320615.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  dataset <- phen_list$source_data$pht006988 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"GALAII_NoSubcohortStructure\")\n\n  return(dataset)\n}\n"
    },
    {
      "name": "GeneSTAR",
      "component_study_variables": ["phs001218.v1.pht007766.v1.phv00369267.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  #Datasets\n  int <- phen_list$source_data$pht007766\n  #Order of levels\n  int$VISIT <- int$VISIT %>%\n               as.factor() %>%\n               relevel('SSV')\n  #Subset to baseline visits, SSV and PSV\n  dataset <- int %>%\n             filter(VISIT %in% c('SSV', 'PSV')) %>%\n             mutate(VISIT = as.factor(VISIT)) %>%\n             group_by(topmed_subject_id) %>%\n             arrange(topmed_subject_id, VISIT) %>%\n             filter(row_number(topmed_subject_id) == 1) %>%\n             ungroup() %>%\n             data.frame()\n\n  #Assigning values\n  dataset$subcohort <- ifelse(dataset$VISIT == 'SSV',\n                              'GeneSTAR_Sibling',\n                              'GeneSTAR_CoparentOffspring')\n\n  #Select variables and remove missing\n  dataset <- select(dataset, topmed_subject_id, subcohort)\n\n  return(dataset)\n}\n"
    },
    {
      "name": "GENOA_AfricanAmerican",
      "component_study_variables": ["phs001238.v2.pht006039.v1.phv00277508.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n  pht6039 <- phen_list$source_data$pht006039 %>%\n    # Select ID variable and code all subjects as AA.\n    transmute(topmed_subject_id, subcohort = \"GENOA_AfricanAmerican\")\n  return(pht6039)\n}\n"
    },
    {
      "name": "GENOA_EuropeanAmerican",
      "component_study_variables": ["phs001238.v2.pht006649.v1.phv00307741.v1", "phs001238.v2.pht006653.v1.phv00307789.v1", "phs001238.v2.pht006659.v1.phv00307950.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(magrittr)\n  # Get IDs from each dataset.\n  ids <- sapply(phen_list$source_data, extract2, \"topmed_subject_id\") %>%\n    # Unlist IDs into vector.\n    unlist() %>%\n    # Remove duplicate values.\n    unique()\n  # Create harmonized dataframe and add subcohort.\n  harmonized <- data.frame(topmed_subject_id = ids, subcohort = \"GENOA_EuropeanAmerican\")\n  return(harmonized)\n}\n"
    },
    {
      "name": "GOLDN",
      "component_study_variables": ["phs000741.v2.pht003915.v2.phv00202090.v2"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht003915 %>%\n    # Filter out unconsented individuals.\n    filter(!(consent %in% \"0\") & !is.na(consent)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"GOLDN_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "HCHS_SOL",
      "component_study_variables": ["phs000810.v1.pht004713.v1.phv00226241.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht004713 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"HCHS_SOL_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "HVH",
      "component_study_variables": ["phs001013.v3.pht005309.v3.phv00259370.v3", "phs001013.v3.pht005311.v2.phv00259376.v2", "phs001013.v3.pht005311.v2.phv00259377.v2"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht005309 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"HVH_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "JHS",
      "component_study_variables": ["phs000286.v5.pht001920.v4.phv00124546.v3"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht001920 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"JHS_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "Mayo_VTE_GENEVA",
      "component_study_variables": ["phs000289.v2.pht001883.v1.phv00121830.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht001883 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"Mayo_VTE_GENEVA\")\n  return(dat)\n}\n"
    },
    {
      "name": "Mayo_VTE_Olmsted",
      "component_study_variables": ["phs001402.v1.pht008239.v1.phv00389900.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  dataset <- phen_list$source_data$pht008239 %>%\n             transmute(topmed_subject_id, subcohort = \"Mayo_VTE_Olmsted\")\n\n  return(dataset)\n}\n"
    },
    {
      "name": "MESA_airnr",
      "component_study_variables": ["phs000209.v13.pht001111.v4.phv00082644.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n  # Code subcohort as AirNR for all observations in dataframe.\n  harmonized <- transmute(phen_list$source_data$pht001111, topmed_subject_id,\n                          subcohort = \"MESA_AirNR\")\n  return(harmonized)\n}\n"
    },
    {
      "name": "MESA_classic",
      "component_study_variables": ["phs000209.v13.pht001116.v10.phv00084447.v2"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n  # Code subcohort as Classic for all observations in dataframe.\n  harmonized <- transmute(phen_list$source_data$pht001116, topmed_subject_id,\n                          subcohort = \"MESA_Classic\")\n  return(harmonized)\n}\n"
    },
    {
      "name": "MESA_family",
      "component_study_variables": ["phs000209.v13.pht001121.v3.phv00087075.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n  # Code subcohort as Family for all observations in dataframe.\n  harmonized <- transmute(phen_list$source_data$pht001121, topmed_subject_id,\n                          subcohort = \"MESA_Family\")\n  return(harmonized)\n}\n"
    },
    {
      "name": "MGH_AF",
      "component_study_variables": ["phs001001.v1.pht005653.v1.phv00265704.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  dataset <- phen_list$source_data$pht005653 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"MGH_AF_NoSubcohortStructure\")\n\n  return(dataset)\n}\n"
    },
    {
      "name": "Partners",
      "component_study_variables": ["phs001024.v3.pht005116.v2.phv00253774.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dataset <- phen_list$source_data$pht005116\n  # Create subcohort variable.\n  dataset$subcohort <- 'Partners_NoSubcohortStructure'\n\n  dataset <- select(dataset, topmed_subject_id, subcohort)\n  return(dataset)\n}\n"
    },
    {
      "name": "SAGE",
      "component_study_variables": ["phs000921.v3.pht004881.v3.phv00252275.v3"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dataset <- phen_list$source_data$pht004881\n  # Create subcohort variable.\n  dataset$subcohort <- \"SAGE_NoSubcohortStructure\"\n\n  dataset <- select(dataset, topmed_subject_id, subcohort)\n  return(dataset)\n}\n"
    },
    {
      "name": "SAS",
      "component_study_variables": ["phs000914.v1.pht005251.v1.phv00258664.v1"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data$pht005251 %>%\n    # Filter out unconsented individuals.\n    filter(!(CONSENT %in% \"0\") & !is.na(CONSENT)) %>%\n    # Create subcohort variable.\n    transmute(topmed_subject_id, subcohort = \"SAS_NoSubcohortStructure\")\n  return(dat)\n}\n"
    },
    {
      "name": "VAFAR",
      "component_study_variables": ["phs000997.v3.pht005087.v3.phv00253604.v3"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  # Get dataset.\n  dataset <- phen_list$source_data$pht005087\n\n  # Filter for consented subjects.\n  dataset <- filter(dataset, CONSENT == '1')\n\n  # Create subcohort variable.\n  dataset$subcohort <- 'VAFAR_NoSubcohortStructure'\n\n  # Select variables to return.\n  dataset <- select(dataset, topmed_subject_id, subcohort)\n\n  return(dataset)\n}\n"
    },
    {
      "name": "VU_AF",
      "component_study_variables": ["phs001032.v4.pht005098.v2.phv00253678.v2"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  # Get dataset.\n  dataset <- phen_list$source_data$pht005098\n\n  # Filter for consented subjects.\n  dataset <- filter(dataset, CONSENT == '1')\n\n  # Create subcohort variable.\n  dataset$subcohort <- 'VU_AF_NoSubcohortStructure'\n\n  # Select variables to return.\n  dataset <- select(dataset, topmed_subject_id, subcohort)\n\n  return(dataset)\n}\n"
    },
    {
      "name": "WGHS",
      "component_study_variables": ["phs001040.v3.pht005203.v2.phv00258321.v2"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  library(dplyr)\n\n  #Dataset\n  dataset <- phen_list$source_data$pht005203 %>%\n  #subcohort variable\n  transmute(topmed_subject_id, subcohort = \"WGHS_NoSubcohortStructure\")\n\n  return(dataset)\n}\n"
    },
    {
      "name": "WHI",
      "component_study_variables": ["phs000200.v11.pht001031.v6.phv00080424.v6", "phs000200.v11.pht001031.v6.phv00080425.v6"],
      "component_harmonized_variables": [],
      "harmonization_function": "harmonize <- function(phen_list){\n  dat <- phen_list$source_data[[\"pht001031\"]] %>%\n    # Select ID and create new variable.\n    transmute(topmed_subject_id, subcohort = ifelse(\n      # Code CT cohort.\n      CTFLAG %in% 1, \"WHI_ClinicalTrial\",\n      # Code OS cohort.\n      ifelse(OSFLAG %in% 1, \"WHI_ObservationalStudy\",\n      # Specify NA for any remaining.\n      NA\n    )))\n}\n"
    }
  ]
}
